{% extends 'basefrontoffice.html.twig' %}

{% block product %}

    <table class="table">
        <tbody>
            {% if annonce.images|length > 0 %}
                <tr>
                    <th>Images</th>
                    <td class="image-container">
                        {% for image in annonce.images %}
                            <img src="{{ asset('uploads/images/' ~ image.filename) }}" alt="Annonce Image">
                        {% endfor %}
                    </td>
                </tr>
            {% else %}
                <tr>
                    <th>Images</th>
                    <td>No images available</td>
                </tr>
            {% endif %}

            <tr>
                <th>Title</th>
                <td>{{ annonce.titre }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ annonce.description }}</td>
            </tr>
            <tr>
                <th>Category</th>
                <td>{{ annonce.category.category }}</td>
            </tr>
            <tr>
                <th>Condition</th>
                <td>{{ annonce.etat }}</td>
            </tr>
            <tr>
                <th>Location</th>
                <td>{{ annonce.localisation }}</td>
            </tr>
            <tr>
                <th>Date</th>
                <td>{{ annonce.datePub ? annonce.datePub|date('Y-m-d H:i') : '' }}</td>
            </tr>
        </tbody>
    </table>
    
    <table>
        <tr>
            <td><a href="{{ path('app_annonce_indexfront') }}" class="btn_3" style="width: 100%"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i></a></td>
            <td></td>
            <td><a href="{{ path('app_annonce_editfront', {'id': annonce.id}) }}" class="btn_3" style="width: 100%"><i class="fas fa-pen" aria-hidden="true"></i></a></td>
            <td></td>
            <td>
                {% include 'annonce_front/_delete_formfront.html.twig' %}
            </td>
        </tr>
    </table>
    <br>
    <br>
    <div class="typography bubble">
        <h5>Talk to the owner </h5>
        <ul class="comments-list">
            {% if comments|length > 0 %}
                {% for comment in comments %}
                    <li class="comment-container">
                        <div class="comment-bubble">
                            <p class="comment-content">{{ comment.content }}</p>
                            <small class="comment-date">Posted on {{ comment.creationDate ? comment.creationDate|date('Y-m-d H:i') : 'Unknown' }}</small>
                        </div>
                    </li>
                {% endfor %}
            {% else %}
                <li>No comments available</li>
            {% endif %}
        </ul>

        {{ form_start(commentForm) }}
        {{ form_row(commentForm.content, { 'attr': {'class': 'single-textarea'} }) }}
        <button type="submit" class="btn_3"><i class="fa fa-paper-plane" aria-hidden="true"></i></button>
        {{ form_end(commentForm) }}
    </div>

{% endblock %}
